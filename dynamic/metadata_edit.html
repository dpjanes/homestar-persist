{% extends 'template' %}
{% block head_footer %}
<link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/select2.min.css" />
<style type="text/css">
ul.select2-choices {
    margin-top: -2px;
}
.select2-search-choice {
    background: #1abc9c;
}
</style>
{% endblock %}
{% block content %}

    <h1>Metadata</h1>
    <p>
    {{ thing_id }}
    </p>
<form 
    role="form"
    class="form-horizontal" 
    action="?from={{ from }}"
    method="post" 
<fieldset>
<input type="hidden" name="_csrf" value="{{ csrfToken }}">

{% include "form_h_input.html" %}
{% include "form_h_select.html" %}

{{ form_h_input({ key: "schema:name", value: metadata['schema:name'], label: "Name", errors: null }) }}
{{ form_h_select({ key: "iot:facet", value: metadata_facets, multiple: true, label: "Facets", choices: facets, errors: null }) }}
{{ form_h_select({ key: "iot:zone", value: metadata_zones, multiple: true, label: "Zones", choices: zones, errors: null }) }}

<!-- Button -->
<div class="form-group">
  <label class="col-md-2 control-label" for="submit"></label>
  <div class="col-md-10">
    <div class="pull-right">
        <a href="/things#{{ thing_id }}" type="btn btn-primary" class="do_cancel btn btn-warning">Cancel</a>
        <button id="submit" name="submit" class="btn btn-primary">Save</button>
    </div>
  </div>
</div>

</fieldset>
</form>
{% endblock %}
{% block body_footer %}
<script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/select2.min.js"></script>
<script type="text/javascript">
$('select').select2();
</script>
{% endblock %}

